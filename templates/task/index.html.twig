{% extends 'base.html.twig' %}

{% block title %}Мои задачи{% endblock %}

{% block body %}
    <h1 class="mt-3">Мои задачи</h1>
    <a class="btn btn-outline-secondary my-3" role="button" href="{{ path('task_new') }}">Создать задачу</a>
    {% for message in app.flashes('success') %}
        <span class="valid-feedback d-block mb-2">
            <span class="d-block">
                <span class="badge badge-success text-uppercase">Success</span>
                <span>{{ message }}</span>
            </span>
        </span>
    {% endfor %}
    <div class="row">
        <div class="col">
            <h2 class="text-center bg-primary text-white rounded-top mb-0">TODO</h2>
            <ul class="list-group">
                {% for task in tasksToDo %}
                    <li class="list-group-item border-top-0 border-primary rounded-0 text-secondary container">
                        <div class="row">
                            <div class="col-10">
                                <a href="{{ path('task_edit', {'id': task.id}) }}" title="Редактировать" class="text-primary">
                                    <h3 class="h5">{{ task.name }}</h3>
                                </a>
                                <p class="mb-1">{{ task.description }}</p>
                                <p class="mb-1"><small><em>Комментариев: {{ task.comments_quantity }}</em></small></p>
                            </div>
                            <div class="col-2 border-left border-secondary">
                                <a href="{{ path('task_edit', {'id': task.id}) }}" title="Редактировать" class="text-primary">
                                    <svg class="bi bi-pencil" width="32" height="32" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M13.293 3.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM14 4l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                        <path fill-rule="evenodd" d="M14.146 8.354l-2.5-2.5.708-.708 2.5 2.5-.708.708zM5 12v.5a.5.5 0 00.5.5H6v.5a.5.5 0 00.5.5H7v.5a.5.5 0 00.5.5H8v-1.5a.5.5 0 00-.5-.5H7v-.5a.5.5 0 00-.5-.5H5z" clip-rule="evenodd"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </li>
                {% else %}
                    <li class="list-group-item border-top-0 border-primary rounded-0">
                        <p class="text-center text-secondary mt-2">Здесь ничего нет</p>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col">
            <h2 class="text-center bg-warning text-white rounded-top mb-0">DOING</h2>
            <ul class="list-group">
                {% for task in tasksDoing %}
                    <li class="list-group-item border-top-0 border-warning rounded-0 text-secondary container">
                        <div class="row">
                            <div class="col-10">
                                <a href="{{ path('task_edit', {'id': task.id}) }}" title="Редактировать" class="text-warning">
                                    <h3 class="h5">{{ task.name }}</h3>
                                </a>
                                <p class="mb-1">{{ task.description }}</p>
                                <p class="mb-1"><small><em>Комментариев: {{ task.comments_quantity }}</em></small></p>
                            </div>
                            <div class="col-2 border-left border-secondary">
                                <a href="{{ path('task_edit', {'id': task.id}) }}" title="Редактировать" class="text-warning">
                                    <svg class="bi bi-pencil" width="32" height="32" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M13.293 3.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM14 4l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                        <path fill-rule="evenodd" d="M14.146 8.354l-2.5-2.5.708-.708 2.5 2.5-.708.708zM5 12v.5a.5.5 0 00.5.5H6v.5a.5.5 0 00.5.5H7v.5a.5.5 0 00.5.5H8v-1.5a.5.5 0 00-.5-.5H7v-.5a.5.5 0 00-.5-.5H5z" clip-rule="evenodd"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </li>
                {% else %}
                    <li class="list-group-item border-top-0 border-warning rounded-0">
                        <p class="text-center text-secondary mt-2">Здесь ничего нет</p>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col">
            <h2 class="text-center bg-success text-white rounded-top mb-0">DONE</h2>
            <ul class="list-group">
                {% for task in tasksDone %}
                    <li class="list-group-item border-top-0 border-success rounded-0 text-secondary container">
                        <div class="row">
                            <div class="col-10">
                                <a href="{{ path('task_edit', {'id': task.id}) }}" title="Редактировать" class="text-success">
                                    <h3 class="h5">{{ task.name }}</h3>
                                </a>
                                <p class="mb-1">{{ task.description }}</p>
                                <p class="mb-1"><small><em>Комментариев: {{ task.comments_quantity }}</em></small></p>
                            </div>
                            <div class="col-2 border-left border-secondary">
                                <a href="{{ path('task_edit', {'id': task.id}) }}" title="Редактировать" class="text-success">
                                    <svg class="bi bi-pencil" width="32" height="32" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M13.293 3.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM14 4l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                        <path fill-rule="evenodd" d="M14.146 8.354l-2.5-2.5.708-.708 2.5 2.5-.708.708zM5 12v.5a.5.5 0 00.5.5H6v.5a.5.5 0 00.5.5H7v.5a.5.5 0 00.5.5H8v-1.5a.5.5 0 00-.5-.5H7v-.5a.5.5 0 00-.5-.5H5z" clip-rule="evenodd"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </li>
                {% else %}
                    <li class="list-group-item border-top-0 border-success rounded-0">
                        <p class="text-center text-secondary mt-2">Здесь ничего нет</p>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}
